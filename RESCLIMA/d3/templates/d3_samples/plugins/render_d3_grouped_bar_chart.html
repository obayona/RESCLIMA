
<p>
    <strong>{{ plugin.data.title }}</strong>
    <span id="chart-{{ plugin.html_id }}" ></span>
    <div class = "row text-center teal lighten-2" id='div-{{ plugin.html_id }}'>
        <i class='mt-2 material-icons center waves-effect waves-light teal lighten-2 left' data-toggle="tooltip" data-placement="right" data-html="true" title="Descripcion: <p>{{ plugin.data.description }}</p>" >info</i>
        <input id="groupTime-{{ plugin.html_id }}" placeholder="init date" type= "date" class="ml-3 col s5 center"  data-date-format='yyyy-mm-dd'  >
        <input id="grouplastTime-{{ plugin.html_id }}" placeholder="last date" type= "date" class=" col s5 center"  data-date-format='yyyy-mm-dd'  > 
        <i id="igroup-{{ plugin.html_id }}" class=" waves-effect waves-light material-icons center" data-toggle="tooltip" data-placement="top" title="GroupBar" >domain</i>
        <i id="iline-{{ plugin.html_id }}" class=" waves-effect waves-light material-icons center" data-toggle="tooltip" data-placement="top" title="LineChart" >dehaze</i>
    </div>
    <script type="text/javascript">
        // *****************************************************************
        // ************************* Initialisation ************************
        // *****************************************************************
        $(document).ready(function(){

            //d3GroupedBarChartSample(
            plotlyGroupedBarChart(
                'chart-{{ plugin.html_id }}',
                '{{ plugin.data.source }}',
                '{{ plugin.data.start_date }}',
                '{{ plugin.data.end_date }}',
                '{{ plugin.data.rangeLabel }}',
                '{{ plugin.uid }}',
            );

        });
        $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip()
            $('.datepicker').datepicker()
        });
        $('#groupTime-{{ plugin.html_id }}').change(function(){
            
            changeGroupedOnDate("groupTime-{{ plugin.html_id }}",
                            "grouplastTime-{{ plugin.html_id }}",
                            'chart-{{ plugin.html_id }}',
                            '{{ plugin.data.source }}',
                            '{{ plugin.data.rangeLabel }}',
                            '{{ plugin.uid }}');
        })
        $('#grouplastTime-{{ plugin.html_id }}').change(function(){
            
            changeGroupedOnDate("groupTime-{{ plugin.html_id }}",
                            "grouplastTime-{{ plugin.html_id }}",
                            'chart-{{ plugin.html_id }}',
                            '{{ plugin.data.source }}',
                            '{{ plugin.data.rangeLabel }}',
                            '{{ plugin.uid }}');
        })
    </script>
</p>
