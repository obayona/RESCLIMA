
<p>
    <strong>{{ plugin.data.title }}</strong>
    <span id="chart-{{ plugin.html_id }}" ></span>
    <div class = "row text-center indigo lighten-4" id='div-{{ plugin.html_id }}'>
        <i class='mt-2 material-icons center waves-effect waves-light indigo lighten-4 left' data-toggle="tooltip" data-placement="right" data-html="true" title="Descripcion: <p>{{ plugin.data.description }}</p>" >info</i>
        <input id="barTime-{{ plugin.html_id }}" placeholder="init date" type= "date" class="ml-3 col s5 center"  data-date-format='yyyy-mm-dd'  >
        <input id="barlastTime-{{ plugin.html_id }}" placeholder="last date" type= "date" class=" col s5 center"  data-date-format='yyyy-mm-dd'  > 
    </div>
    <script type="text/javascript">
        // *****************************************************************
        // ************************* Initialisation ************************
        // *****************************************************************
        $(document).ready(function(){

            //d3BarChartSample(
            plotlyBarChartSample(
                'chart-{{ plugin.html_id }}',
                '{{ plugin.data.source }}',
                '{{ plugin.data.start_date }}',
                '{{ plugin.data.end_date }}',
                '{{ plugin.data.domainLabel }}',
                '{{ plugin.data.rangeLabel }}',
                '{{ plugin.data.color }}',
                '{{ plugin.data.hover }}',
                '{{ plugin.data.simulation}}',
                '{{ plugin.uid }}',
                '{{ plugin.description }}'
            );

        });
        $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip()
            $('.datepicker').datepicker()
        });
        $('#barTime-{{ plugin.html_id }}').change(function(){
            
            changeBarOnDate("barTime-{{ plugin.html_id }}",
                            "barlastTime-{{ plugin.html_id }}",
                            'chart-{{ plugin.html_id }}',
                            '{{ plugin.data.source }}',
                            '{{ plugin.data.domainLabel }}',
                            '{{ plugin.data.rangeLabel }}',
                            '{{ plugin.data.color }}',
                            '{{ plugin.data.hover }}',
                            '{{ plugin.data.simulation}}',
                            '{{ plugin.uid }}'
            );
        })
        $('#barlastTime-{{ plugin.html_id }}').change(function(){
            
            changeBarOnDate("barTime-{{ plugin.html_id }}",
                            "barlastTime-{{ plugin.html_id }}",
                            'chart-{{ plugin.html_id }}',
                            '{{ plugin.data.source }}',
                            '{{ plugin.data.domainLabel }}',
                            '{{ plugin.data.rangeLabel }}',
                            '{{ plugin.data.color }}',
                            '{{ plugin.data.hover }}',
                            '{{ plugin.data.simulation}}',
                            '{{ plugin.uid }}'
            );
        })
    </script>
