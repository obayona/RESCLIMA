
<p>
    <strong>{{ plugin.data.title }}</strong>
    <span id="chart-{{ plugin.html_id }}" ></span>
    <div class = "row text-center teal lighten-2" id='div-{{ plugin.html_id }}'>
        <i id='i-{{ plugin.html_id }}' class='mt-2 material-icons center waves-effect waves-light teal lighten-2 left' data-toggle="tooltip" data-placement="right" data-html="true" title="Descripcion: <p>{{ plugin.data.description }}</p>" >info</i>
        <input id="lineTime-{{ plugin.html_id }}" placeholder="init date" type= "date" class="ml-3 col s5 center"  data-date-format='yyyy-mm-dd'  >
        <input id="linelastTime-{{ plugin.html_id }}" placeholder="last date" type= "date" class=" col s5 center"  data-date-format='yyyy-mm-dd'  > 
    </div>
    <script type="text/javascript">
        // *****************************************************************
        // ************************* Initialisation ************************
        // *****************************************************************
        $(document).ready(function(){

            //d3LineChartSample(
            plotlyLineChart(
                'chart-{{ plugin.html_id }}',
                '{{ plugin.data.start_date }}',
                '{{ plugin.data.end_date }}',
                '{{ plugin.data.source }}',
                '{{ plugin.data.origin }}',
                '{{ plugin.data.domainLabel }}',
                '{{ plugin.data.rangeLabel }}',
                '{{ plugin.uid }}',
                '{{ plugin.data.simulation}}',
                '{{ plugin.data.color }}',
                '{{ plugin.data.hover }}',
            );

        });
        $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip()
            $('.datepicker').datepicker()
        });
        $('#lineTime-{{ plugin.html_id }}').change(function(){
            
            changeLineDate("lineTime-{{ plugin.html_id }}",
                         "linelastTime-{{ plugin.html_id }}",
                         'chart-{{ plugin.html_id }}',
                         '{{ plugin.data.source }}',
                         '{{ plugin.data.origin }}',
                         '{{ plugin.data.domainLabel }}',
                         '{{ plugin.data.rangeLabel }}',
                         '{{ plugin.uid }}',
                         '{{ plugin.data.simulation}}',
                         '{{ plugin.data.color }}',
                         '{{ plugin.data.hover }}');
        })
        $('#linelastTime-{{ plugin.html_id }}').change(function(){
            
            changeLineDate("lineTime-{{ plugin.html_id }}",
                         "linelastTime-{{ plugin.html_id }}",
                         'chart-{{ plugin.html_id }}',
                         '{{ plugin.data.source }}',
                         '{{ plugin.data.origin }}',
                         '{{ plugin.data.domainLabel }}',
                         '{{ plugin.data.rangeLabel }}',
                         '{{ plugin.uid }}',
                         '{{ plugin.data.simulation}}',
                         '{{ plugin.data.color }}',
                         '{{ plugin.data.hover }}');
        })
        $('#i-{{ plugin.html_id }}').click(function(){
            redirect('{{ plugin.data.source }}');
        })
    </script>
</p>
